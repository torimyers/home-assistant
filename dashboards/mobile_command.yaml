# Mobile Command Dashboard - Pocket-Sized Sietch Control
# Optimized for mobile devices with touch-friendly controls

title: "üì± Mobile Command"
theme: default

# Mobile-specific global styling
views:
  - title: "Home"
    icon: mdi:home
    path: home
    badges:
      - entity: sensor.automation_success_rate
        name: "Automation"
      - entity: binary_sensor.kitchen_motion
        name: "Activity"
    cards:
      # Mobile Header - Compact
      - type: custom:mushroom-title-card
        title: "üèúÔ∏è House Dodson"
        subtitle: "Mobile Command Center (Pocket Sietch)"
      # Quick Status - Single Row
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: sensor.automation_success_rate
            name: "System Health"
            secondary_info: "Automation Success"
            icon: mdi:shield-check
            layout: vertical

          - type: custom:mushroom-entity-card
            entity: sensor.energy_efficiency_rating
            name: "Efficiency"
            secondary_info: "Energy Rating"
            icon: mdi:chart-line
            layout: vertical
            
          - type: custom:mushroom-entity-card
            entity: sensor.water_conservation_index
            name: "Conservation"
            secondary_info: "Water Management"
            icon: mdi:water-percent
            layout: vertical

      # Essential Controls - Swipe Cards
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: input_boolean.notification_system_enabled
            name: "Notifications"
            icon: mdi:bell
            tap_action:
              action: toggle
          - type: custom:mushroom-entity-card
            entity: input_boolean.vacation_mode
            name: "Away Mode"
            icon: mdi:airplane
            tap_action:
              action: toggle
      # Emergency Quick Access
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: switch.tp_link_power_strip_173b_couch_lamp
            name: "Living Lamp"
            icon: mdi:lamp
          - type: custom:mushroom-entity-card
            entity: scene.system_storm_mode
            name: "Storm Mode"
            icon: mdi:weather-lightning
            tap_action:
              action: call-service
              service: scene.turn_on
              service_data:
                entity_id: scene.system_storm_mode
  - title: "Control"
    icon: mdi:tune
    path: control
    badges: []
    cards:
      # Mobile Controls Header
      - type: custom:mushroom-title-card
        title: "üè† Room Lighting Controls"
        subtitle: "Quick access to all room lights"
      # Kitchen Lighting
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: light.ikea_of_sweden_stoftmoln_ceiling_wall_lamp_ww10_light
            name: "Kitchen Oven"
            icon: mdi:chef-hat
            tap_action:
              action: toggle
          - type: custom:mushroom-entity-card
            entity: light.ikea_of_sweden_stoftmoln_ceiling_wall_lamp_ww10_light_2
            name: "Kitchen Sink"
            icon: mdi:water-pump
            tap_action:
              action: toggle
      # Office Lighting  
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: light.ledvance_a19_rgbw_light
            name: "Office Right"
            icon: mdi:desk-lamp
            tap_action:
              action: toggle
          - type: custom:mushroom-entity-card
            entity: light.ledvance_a19_rgbw_light_2
            name: "Office Upper"
            icon: mdi:ceiling-light
            tap_action:
              action: toggle
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: light.ledvance_a19_rgbw_light_3
            name: "Office Left"
            icon: mdi:floor-lamp
            tap_action:
              action: toggle
          # Dining Room Button (All 4 lights)
          - type: custom:mushroom-entity-card
            entity: light.ikea_of_sweden_tradfribulbe12wscandleopal450lm_light
            name: "Dining Room"
            icon: mdi:table-chair
            tap_action:
              action: call-service
              service: script.toggle_dining_room_lights
      # Living Areas
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: switch.tp_link_power_strip_173b_couch_lamp
            name: "Living Room"
            icon: mdi:sofa
            tap_action:
              action: toggle
          - type: custom:mushroom-entity-card
            entity: light.tori_light
            name: "Bedroom"
            icon: mdi:bed
            tap_action:
              action: toggle
      # Entry & Outdoor
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: switch.tp_link_power_strip_1446_lamp_by_door
            name: "Entry Door"
            icon: mdi:door-open
            tap_action:
              action: toggle
          - type: custom:mushroom-entity-card
            entity: light.front_light
            name: "Front Yard"
            icon: mdi:home-outline
            tap_action:
              action: toggle
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: light.backyard_light
            name: "Backyard"
            icon: mdi:tree
            tap_action:
              action: toggle
          # Group Controls
          - type: custom:mushroom-entity-card
            entity: script.office_lights_toggle
            name: "Office (All 3)"
            icon: mdi:desk
            tap_action:
              action: call-service
              service: script.toggle
              service_data:
                entity_id: script.office_lights_toggle
      # Group Controls Row 2
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-entity-card
            entity: script.kitchen_lights_toggle
            name: "Kitchen (Both)"
            icon: mdi:chef-hat
            tap_action:
              action: call-service
              service: script.toggle
              service_data:
                entity_id: script.kitchen_lights_toggle
          # All Lights Control
          - type: button
            name: "All Lights Off"
            icon: mdi:lightbulb-off
            tap_action:
              action: call-service
              service: light.turn_off
              service_data:
                entity_id: all
      # Mobile Controls Header
      - type: custom:mushroom-title-card
        title: "‚öôÔ∏è System Controls"
        subtitle: "Essential system management"
      # System Modes - Toggle Grid
      - type: grid
        columns: 2
        cards:
          - type: custom:mushroom-entity-card
            entity: input_boolean.guest_mode
            name: "Guest Mode"
            icon: mdi:account-group
            layout: vertical
            tap_action:
              action: toggle
            
          - type: custom:mushroom-entity-card
            entity: input_boolean.maintenance_mode
            name: "Maintenance"
            icon: mdi:wrench
            layout: vertical
            tap_action:
              action: toggle

          - type: custom:mushroom-entity-card
            entity: input_boolean.motion_lighting_enabled
            name: "Motion Lights"
            icon: mdi:lightbulb-auto
            layout: vertical
            tap_action:
              action: toggle
              
          - type: custom:mushroom-entity-card
            entity: input_boolean.climate_automation_enabled
            name: "Climate Auto"
            icon: mdi:thermostat-auto
            layout: vertical
            tap_action:
              action: toggle

      # House Mode Selector
      - type: entities
        title: "üè† House Mode"
        entities:
          - entity: input_select.house_mode
            name: "Current Mode"
          - entity: input_select.security_level
            name: "Security Level"

      # Quick Thresholds
      - type: entities
        title: "üéØ Quick Adjustments"
        entities:
          - entity: input_number.motion_timeout_minutes
            name: "Motion Timeout"
          - entity: input_number.spice_production_target
            name: "Production Target"

  - title: "Monitor"
    icon: mdi:monitor-dashboard
    path: monitor
    badges: []
    cards:
      # Mobile Monitoring Header
      - type: custom:mushroom-title-card
        title: "üìä System Monitor"
        subtitle: "Status and analytics"
      # Key Metrics - Mobile Optimized
      - type: grid
        columns: 1
        cards:
          - type: gauge
            entity: sensor.sietch_operational_intelligence
            name: "Operational Intelligence"
            unit: "%"
            min: 0
            max: 100
            severity:
              green: 90
              yellow: 75
              red: 60

      # Status Indicators - Compact
      - type: entities
        title: "üö¶ System Status"
        entities:
          - entity: binary_sensor.office_motion
            name: "House Occupied"
            secondary_info: last-changed
          - entity: binary_sensor.all_systems_operational
            name: "All Systems OK"
            secondary_info: last-changed
          - entity: binary_sensor.automation_system_healthy
            name: "Automation Health"
            secondary_info: last-changed

      # Recent Activity - Mobile List
      - type: entities
        title: "üìà Recent Activity"
        entities:
          - entity: counter.atlas_daily_motion
            name: "Motion Events Today"
            secondary_info: last-changed
          - entity: counter.spice_harvester_cycles
            name: "Harvester Cycles"
            secondary_info: last-changed
          - entity: timer.motion_light_delay
            name: "Motion Timer"
            secondary_info: last-changed

      # Quick Actions - Mobile Buttons
      - type: entities
        title: "üîß Quick Actions"
        entities:
          - type: button
            name: "System Health Check"
            action_name: "Run"
            service: script.system_health_monitor
            
          - type: button
            name: "Reset Counters"
            action_name: "Reset"
            service: automation.daily_counter_reset

  - title: "Settings"
    icon: mdi:cog
    path: settings
    badges: []
    cards:
      # Mobile Settings Header
      - type: custom:mushroom-title-card
        title: "‚öôÔ∏è Quick Settings"
        subtitle: "Mobile configuration"
      # Notification Settings
      - type: entities
        title: "üîî Notifications"
        entities:
          - entity: input_boolean.daily_reports_enabled
            name: "Daily Reports"
          - entity: input_boolean.threshold_alerts_enabled
            name: "Threshold Alerts"  
          - entity: input_boolean.emergency_alerts_enabled
            name: "Emergency Alerts"
          - entity: input_boolean.night_mode_notifications
            name: "Night Mode"

      # System Preferences
      - type: entities
        title: "üéõÔ∏è Preferences"
        entities:
          - entity: input_select.climate_mode
            name: "Climate Mode"
          - entity: input_select.notification_priority
            name: "Alert Priority"
          - entity: input_number.temperature_threshold_high
            name: "Temp High"
          - entity: input_number.temperature_threshold_low
            name: "Temp Low"

      # Mobile Dashboard Settings
      - type: entities
        title: "üì± Dashboard"
        entities:
          - type: button
            name: "Refresh Dashboard"
            action_name: "Refresh"
            service: homeassistant.reload_config_entry
            
          - type: button
            name: "Clear Browser Cache"
            action_name: "Clear"
            service: browser_mod.lovelace_reload

  # Navigation View - Switch between dashboards
  - title: "Navigate"
    icon: mdi:compass
    path: navigate
    badges: []
    cards:
      - type: custom:mushroom-title-card
        title: "üß≠ Dashboard Navigation"
        subtitle: "Switch to other command centers"
      # Dashboard Navigation Cards
      - type: grid
        columns: 1
        cards:
          - type: button
            name: "üñ•Ô∏è Desktop Command"
            icon: mdi:monitor-dashboard
            tap_action:
              action: navigate
              navigation_path: /lovelace-desktop-command
          - type: custom:mushroom-entity-card
            entity: sensor.automation_success_rate
            name: "üèõÔ∏è Command Center"
            secondary_info: "Advanced monitoring & analytics (Sietch Command)"
            icon: mdi:console-network
            tap_action:
              action: navigate
              navigation_path: /lovelace-dashboards-sietch-command
          - type: custom:mushroom-entity-card
            entity: sensor.system_response_time
            name: "‚ö° Performance Monitor"
            secondary_info: "System diagnostics & metrics (Mentat Analysis)"
            icon: mdi:speedometer
            tap_action:
              action: navigate
              navigation_path: /lovelace-dashboards-performance-monitoring
      # Quick Access Info
      - type: markdown
        content: |
          ## üìã **Dashboard Guide**
          
          **üì± Mobile Command** - You are here  
          *Touch-optimized controls and quick access*
          
          **üñ•Ô∏è Desktop Command** - Best for computers  
          *Full analytics, detailed views, wide layouts*
          
          **üèõÔ∏è Sietch Command** - Advanced monitoring  
          *Deep system analytics and AI insights*
          
          **‚ö° Performance** - System diagnostics  
          *Technical metrics and performance data*
