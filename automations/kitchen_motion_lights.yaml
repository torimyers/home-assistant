- id: kitchen_motion_lights
  alias: Kitchen Motion Lights
  description: Turn on kitchen lights when motion detected (100% day, 30% late evening, 10% sink only at night)

  trigger:
    - platform: state
      entity_id: binary_sensor.kitchen_motion
      to: 'on'

  action:
    - choose:
        # Sleep time (12 AM - 5 AM): Only sink light at 10%
        - conditions:
            - condition: time
              after: "00:00:00"
              before: "05:00:00"
          sequence:
            - service: light.turn_on
              target:
                entity_id: light.ikea_of_sweden_stoftmoln_ceiling_wall_lamp_ww10_light_2
              data:
                brightness_pct: 10
        # Late evening (10 PM - 12 AM): All lights dimmed to 30%
        - conditions:
            - condition: time
              after: "22:00:00"
              before: "23:59:59"
          sequence:
            - service: light.turn_on
              target:
                area_id: kitchen
              data:
                brightness_pct: 30
      # Normal hours (5 AM - 10 PM): All kitchen lights at full brightness
      default:
        - service: light.turn_on
          target:
            area_id: kitchen
          data:
            brightness_pct: 100

  mode: restart

- id: kitchen_motion_lights_off
  alias: Kitchen Motion Lights Off
  description: Turn off kitchen lights 10 minutes after no motion

  trigger:
    - platform: state
      entity_id: binary_sensor.kitchen_motion
      to: 'off'
      for:
        minutes: 10

  action:
    - service: light.turn_off
      target:
        area_id: kitchen

  mode: restart
